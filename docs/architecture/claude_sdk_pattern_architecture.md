# `claude -p` を使った処理パターン

# 処理の分解

claude -p で処理する時に、1度に処理すると整合を撮りにくい。
そこで、抽出とパターンマッチを分離する。

## 1. 抽出

### 1-1. TypeScript処理

以下について、TypeScriptで確実に抽出する。

1. プロンプトからフロントマターのみを抽出する
2. プロンプトに用いられている `{variable}` 名称を抽出する

### 1-2. `claude -p` でフロントマターを処理する

1. フロントマターに記載のある項目を抽出させる。
2. Schemaとテンプレートに含めたプロンプトにて、Schemaに基づいた
