# è¦æ±‚äº‹é …

1. ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’æŠ½å‡ºã—ã€è§£æã™ã‚‹
2. ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®æŸ”è»Ÿæ€§ã‚’ä¿ã¤ãŸã‚ã€Schemaã«åŸºã¥ãTypeScriptã«ã‚ˆã‚‹æ§‹é€ åŒ–å‡¦ç†ã‚’ä½¿ã†ï¼ˆå¤‰æ•°åã®åå¯„ã›ï¼‰
3. è§£æã—ãŸçµæœã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¸å½“ã¦è¾¼ã¿ã€æ›¸ãå‡ºã™

## ç›®çš„

Markdownãƒ•ã‚¡ã‚¤ãƒ«ã®ç´¢å¼•(Index)ã‚’ä½œã‚‹ãŸã‚ã§ã‚ã‚‹ã€‚
æ§˜ã€…ãªå½¢å¼ã®ã€æ§˜ã€…ãªç”¨é€”ã®Markdownãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã€å¤šæ§˜ãªãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼å®šç¾©ãŒå­˜åœ¨ã™ã‚‹ã€‚
å³æ ¼ãªSchemaå®šç¾©ã‚’ç”¨ã„ã¦é‹ç”¨ã•ã‚Œã¦ã„ãªã„ä¸­ã§ã€ç´¢å¼•ä½œã‚Šã¯é›£ã—ã„ã€‚
ãã“ã§ã€äº‹å¾Œçš„ã«ï¼ˆFrontMatterå…¥åŠ›æ™‚Validationã‚„äº‹å‰å®šç¾©ã§ã¯ãªãã€ä½œæˆã•ã‚ŒãŸMarkdownã«å¯¾ã—ï¼‰ç´¢å¼•åŒ–ã™ã‚‹ã€‚

## èƒŒæ™¯

ãã®æ™‚ã€…ã§ã€æŸ”è»Ÿã«é‹ç”¨ã§ãã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒã€Markdownã‚„ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã«ã¯å­˜åœ¨ã™ã‚‹ã€‚
ä¸€æ–¹ã€å³æ ¼ãªå‹å®šç¾©ã‚’é€šã™ã“ã¨ãªãä½œæˆã•ã‚Œã‚‹ãŸã‚ã€å…¥åŠ›æ–¹æ³•ã‚„åç§°ã‚‚é‹ç”¨è€…ä¾å­˜ã«ãªã‚ŠãŒã¡ã§ã‚ã‚‹ã€‚
ã•ã‚‰ã«ã€è“„ç©ã•ã‚ŒãŸéå»ã®Markdownã‚’å«ã‚ã‚‹ã¨ã€å…¨ã¦ã‚’äº‹å‰å®šç¾©ã—ã¦é‹ç”¨ã™ã‚‹ã“ã¨ã¯é›£ã—ã„ã€‚
ã“ã†ã—ãŸèª²é¡Œã«å¯¾å¿œã™ã‚‹ã€‚

## æŸ”è»Ÿæ€§ã‚’ç¢ºä¿ã™ã‚‹ç†ç”±

ç‰¹å®šã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¿ã§ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã™ã‚‹è¨­è¨ˆã§ã¯ã€Schemaå¤‰æ›´ã«å¯¾å¿œã§ããªã„ã€‚
ãã®ãŸã‚ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯Schemaã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å¤–éƒ¨ã‹ã‚‰èª­ã¿è¾¼ã¿ã€å·®ã—ä»£ãˆå‰æã§Schemaå®šç¾©ã‚’ç”¨ã„ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¸å‡ºåŠ›ã™ã‚‹ã€‚

ã“ã‚Œã«ã‚ˆã‚Šã€ç´¢å¼•ã®ä»•æ§˜ãŒå¤‰ã‚ã£ã¦ã‚‚
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å¤‰æ›´ã‚’ä¼´ã†ã“ã¨ç„¡ãã€ç´¢å¼•å®šç¾©ã ã‘å¤‰ãˆã‚‰ã‚Œã‚‹ã€‚

ã¾ãŸã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé›†ã®ç´¢å¼•ã‚’ä½œã‚‹ã‚±ãƒ¼ã‚¹ã€è¨˜äº‹ã®ç´¢å¼•ã‚’ä½œã‚‹ã‚±ãƒ¼ã‚¹ãªã©ã‚‚ã€Schemaã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚»ãƒƒãƒˆã‚’å·®ã—æ›¿ãˆã€Markdownã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç½®ã‹ã‚ŒãŸPathã‚„ç´¢å¼•å‡ºåŠ›å…ˆã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã ã‘ã§ã€åŒã˜ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å¤šæ§˜ãªç´¢å¼•ä½œã‚ŠãŒå¯èƒ½ã¨ãªã‚‹ã€‚

ã“ã‚ŒãŒæŸ”è»Ÿæ€§ç¢ºä¿ã®ç†ç”±ã§ã‚ã‚Šã€ã€ŒSchemaæŒ‡å®šã«ã™ã‚‹ã“ã¨ãŒã€é‡è¦ãªè¦æ±‚äº‹é …ã§ã‚ã‚‹ã€ã“ã¨ã®ç†ç”±ã§ã‚ã‚‹ã€‚

## Schemaã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å½¹å‰²

Schemaã¯ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®è§£ææ§‹é€ ã‚’æ±ºã‚ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‹ã‚‰å¾—ã‚‰ã‚ŒãŸå€¤ã®å‡ºåŠ›å½¢å¼ã‚’æ±ºã‚ã‚‹ã€‚Schemaè§£æçµæœãŒã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å¤‰æ•°ã¸åŸ‹ã‚è¾¼ã¾ã‚Œã‚‹ã€‚

Schemaã¯ã€åˆ©ç”¨ã™ã¹ããƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«åã‚’æœ‰ã™ã‚‹ã€‚
ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚„Schemaå®šç¾©ã«ä¾å­˜ã›ãšã€å½¢å¼ã‚’æ±ºã‚ã‚‰ã‚Œã‚‹ã€‚

# æˆæœç‰©

1. è¦æ±‚ã®æ•´ç†ã¨è¦ä»¶åŒ–
2. æ©Ÿèƒ½è¦ä»¶ã€éæ©Ÿèƒ½è¦ä»¶ã®åˆ†é›¢
3. ãƒ‰ãƒ¡ã‚¤ãƒ³å¢ƒç•Œç·šã®è¨­è¨ˆè³‡æ–™ã®ä½œæˆ
4. å®Ÿè£…ã•ã‚ŒãŸè§£æã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨å …ç‰¢ãªãƒ†ã‚¹ãƒˆ
5. TypeScriptå‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆSchemaã®$refã«ã‚‚å¯¾å¿œã—ã€å†å¸°çš„ã«è§£æã™ã‚‹ï¼‰
6. examples/ ã«å®Ÿä¾‹ã‚’ä½¿ã£ãŸå®Ÿè¡Œä¾‹ãŒå­˜åœ¨ã™ã‚‹

# è§£æã®æ‰‹é †

ä¸€è¦§ï¼š ã¾ãšã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€è¦§ã‚’ä½œã‚‹ã€‚(æˆæœA)
ã¾ãŸã€æœ€çµ‚æˆæœç‰©ã‚’ç©ºã®çŠ¶æ…‹ã§ã¤ãã‚‹ï¼ˆæœ€çµ‚æˆæœç‰©Zï¼‰

å„ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ï¼š æˆæœAã®ãªã‹ã®ç¹°ã‚Šè¿”ã—å‡¦ç†ã«ç›¸å½“ã™ã‚‹ã€‚
å„ãƒ«ãƒ¼ãƒ—å†…ã§ã¯ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«1ã¤ãšã¤ã‚’å‡¦ç†ã™ã‚‹ã€‚ãƒ«ãƒ¼ãƒ—å‡¦ç†ã¯ã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä»¶ã«å¯¾ã—ã¦å®Ÿæ–½ã™ã‚‹ã€‚

æœ€åˆã«ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼éƒ¨åˆ†ã‚’æŠ½å‡ºã™ã‚‹ã€‚ã“ã‚Œã¯TypeScriptã§å®Ÿæ–½ã™ã‚‹ã€‚(æˆæœB)
æˆæœBã‹ã‚‰ã€TypeScriptã§è§£æã™ã‚‹ã€‚ï¼ˆæˆæœCï¼‰
æˆæœCã‚’å…ƒã«TypeScriptã§Schemaæ§‹é€ ãƒ‡ãƒ¼ã‚¿ã§ä¿æŒã™ã‚‹ï¼ˆæˆæœDï¼‰
æˆæœDã‚’ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å¤‰æ•°ã¸å½“ã¦ã“ã‚€ã€‚ï¼ˆæˆæœEï¼‰
æˆæœEã‚’çµ±åˆã—ã€æœ€çµ‚æˆæœç‰©Zã‚’å¾—ã‚‹ã€‚æˆæœç‰©Zã¯ã€Schemaã§æŒ‡å®šã•ã‚ŒãŸ $ref
å‡¦ç†ã‚’å†å¸°çš„ã«å‡¦ç†ã—ã€å„SchemaãŒä¿æŒã™ã‚‹ template
ã‚’ç”¨ã„ã¦å¾—ã‚‰ã‚ŒãŸæˆæœEã‚’çµ±åˆã—ãŸã‚‚ã®ã§ã‚ã‚‹ã€‚ æœ€å¾Œã«ã€æˆæœ€çµ‚æˆæœç‰©Zã‚’ä¿å­˜ã™ã‚‹ã€‚

ä¸€è¦§ã®ãªã‹ã§ã€ã©ã®é…åˆ—æ§‹é€ ãŒå„ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡¦ç†ã«ç”¨ã„ã‚Œã‚‹ã‹ã¯ã€`"x-frontmatter-part": true`
ã§åˆ¤å®šã™ã‚‹ã€‚

```text
- ä¸€è¦§
  - ã‚³ãƒãƒ³ãƒ‰ç¹°ã‚Šè¿”ã—é …ç›®()
```

çµæœã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ§‹é€ ã«ãªã‚‹ã€‚ å‡ºåŠ›:

```text
- ä¸€è¦§
  - ã‚³ãƒãƒ³ãƒ‰
  - ã‚³ãƒãƒ³ãƒ‰
  - ã‚³ãƒãƒ³ãƒ‰
```

## ä¸€è¦§ã®æ•´å½¢

ä»¥ä¸‹ã®æ•´å½¢å‡¦ç†ãŒãªã•ã‚Œã‚‹ã€‚

### Schemaã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

åˆ©ç”¨ã™ã‚‹Schemaã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:ã€€ registry_schema.json registry_template.json
ãªãŠã€ä¸€è¦§1å€‹ã«å¯¾ã—ã€å€‹åˆ¥ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«nå€‹ã®é–¢ä¿‚ã§ã‚ã‚‹ã€‚registry_template.jsonã€€ã¯
registry_schema.json å†…éƒ¨ã§æŒ‡å®šã•ã‚Œã‚‹ã€‚
ï¼ˆã¤ã¾ã‚Šregistry_schema.jsonãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€å½¹å‰²çš„ã«ã¯idnex_schema.jsonã¨åŒã˜æ„å‘³ã§ã‚ã‚‹ã€‚ï¼‰

### é›†ç´„æ©Ÿèƒ½

ä¸€è¦§ã¯ã€é›†ç´„æ©Ÿèƒ½ã‚’æŒã¤ã€‚ `"x-derived-from": "commands[].c1"`
ã®ã‚ˆã†ã«ã€ç‰¹å®šã®éšå±¤ã‹ã‚‰å€¤ã‚’é›†ç´„ã™ã‚‹å‡¦ç†ã‚’æŒã¤ã€‚
å„ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡¦ç†ãŒå®Œäº†ã—ãŸã‚ã¨ã«å®Ÿè¡Œã•ã‚Œã‚‹ã€‚ ã•ã‚‰ã«
`x-derived-unique: true`ãŒã‚ã‚‹å ´åˆã¯ã€ãƒ¦ãƒ‹ãƒ¼ã‚¯åŒ–ã•ã‚Œã‚‹ã€‚

ä¾‹ãˆã°ã€ä»¥ä¸‹ã¯ã€availableConfigs ã‚’åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ã® c1 ã®é›†åˆä½“ã§æ§‹ç¯‰ã™ã‚‹ã€‚

```
"availableConfigs": {
  "type": "array",
  "description": "Tool names array - each becomes available as climpt-{name}. Derived automatically from commands[].c1",
  "x-derived-from": "commands[].c1",
  "x-derived-unique": true,
  "items": {
    "type": "string"
  }
}
```

## å€‹åˆ¥ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã®æ•´å½¢

ä¸€è¦§1å€‹ã«å¯¾ã—ã€å€‹åˆ¥ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼nå€‹ã®é–¢ä¿‚ã§ã‚ã‚‹ã€‚

ä»¥ä¸‹ã®2ç¨®é¡ã‚’ä½¿ã„åˆ†ã‘ã‚‹ã€‚

a. ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã¨ã€Œè§£æç”¨Schemaã€ã‚’ä½¿ã£ã¦æƒ…å ±ã‚’æŠ½å‡ºã™ã‚‹
b.æŠ½å‡ºã—ãŸæƒ…å ±ã‚’ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå¤‰æ•°åŒ–ã—ã€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¸å½“ã¦è¾¼ã‚€

æŠ½å‡ºã®ãŸã‚ã®å‡¦ç†ã¯ã€TypeScriptã§è¡Œã†ã€‚

è©³ã—ãã¯ `docs/architecture/schema_process_architecture.ja.md`
ã¸è¨˜è¼‰ã—ãŸãŸã‚ã€å¿…ãšèª­ã‚€ã“ã¨ã€‚

**åˆ©ç”¨ã™ã‚‹Schemaã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**:ã€€ registry_command_schema.json
registry_command_template.json

å®Œæˆã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®å‚è€ƒä¾‹ï¼š .agent/test-climpt/registry.json
ï¼ˆæ­£è§£ã®å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã¯ãªã„ã€‚Schemaã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ã£ãŸå‡ºåŠ›ä¾‹ã®å‚è€ƒä¾‹ã¨ã—ã¦ã€ç†è§£ã®è£œåŠ©ã«ä½¿ã†ã ã‘ã§ã‚ã‚‹ã€‚ï¼‰

## æŠ½è±¡åŒ–ãƒ¬ãƒ™ãƒ«

ãƒ«ãƒ¼ãƒ«:

1. å®Ÿè£…ã«å…·ä½“çš„ãªå®Ÿä¾‹1-å®Ÿä¾‹2ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ··å…¥ã—ãªã„
2. å®Ÿä¾‹1-å®Ÿä¾‹2ã®Schemaä¾‹ã¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¾‹ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ãŒãªã„
3. å®Ÿä¾‹1-å®Ÿä¾‹2ã®éšå±¤æƒ…å ±ãŒå¤‰ã‚ã£ã¦ã‚‚ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ãŒãªã„
4. ä¸Šè¨˜2ã¨3ãŒã€è¨­å®šã‚ã‚‹ã„ã¯å¼•æ•°ã§è§£æ±ºã§ãã¦ã„ã‚‹
5. æœ€çµ‚æˆæœç‰©Zã¯ã€TypeScriptå‡¦ç†ã«ã‚ˆã‚‹æˆæœç‰©ã‚’çµåˆã—ãŸçµæœã¨ã‚¤ã‚³ãƒ¼ãƒ«ã§ã‚ã‚‹ã€‚

# å‚ç…§ã™ã¹ãæƒ…å ±

ä»¥ä¸‹ã¯ã€å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«è©²å½“ã™ã‚‹äº‹ä¾‹ã§ã‚ã‚‹ã€‚ æˆæœç‰©ã¯ã€ã“ã“ã«æŒ™ã’ãŸ
å®Ÿä¾‹1-å®Ÿä¾‹2
ä»¥å¤–ã®ã‚±ãƒ¼ã‚¹ã«ã‚‚å¯¾å¿œã§ãã‚‹ã‚ˆã†ã«ã€æ±ç”¨çš„ã«æŠ½è±¡åŒ–ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚ã‚‹ã€‚
ãã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒã€ä»¥ä¸‹ã®å®Ÿä¾‹ã‚’ä½¿ã£ã¦ã€å®Ÿéš›ã«Schemaã‹ã‚‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¸ã¨å½“ã¦è¾¼ã‚€ã“ã¨ãŒå‡ºæ¥ã‚‹ã‹æ¤œè¨¼ã™ã‚‹ç›®çš„ã§ä¾‹ç¤ºã™ã‚‹ã€‚

ãªãŠã€å®Ÿéš›ã®ä½¿ç”¨ä¾‹ã¨ã—ã¦ã¯ã€ examples/
é…ä¸‹ã«ä½œæˆã—ã€å®Ÿè¡Œå¯èƒ½ãªå½¢ã§å†ç¾ã™ã‚‹ã“ã¨ã€‚ tests/
ãŒã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’å¼·å›ºã«ã™ã‚‹å½¹å‰²ã§ã‚ã‚Šã€ examples/
ãŒå®Ÿä¾‹ã‚’å®Ÿè¡Œã—ã¦ç¤ºã™å½¹å‰²ã§ã‚ã‚‹ã€‚

## å®Ÿä¾‹1

### ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼è§£æå¯¾è±¡ã®ãƒ•ã‚©ãƒ«ãƒ€ï¼š

`.agent/climpt/prompts`

### è§£æçµæœã®ä¿å­˜å…ˆï¼š

`.agent/climpt/registry.json`

### è§£æçµæœã®Schemaï¼š

```json:registry_schema.json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Registry Schema",
  "description": "Schema for registry configuration with tools and commands",
  "properties": {
    "version": {
      "type": "string",
      "description": "Registry version (e.g., \"1.0.0\")",
      "pattern": "^\\d+\\.\\d+\\.\\d+$"
    },
    "description": {
      "type": "string",
      "description": "Overall registry description"
    },
    "tools": {
      "type": "object",
      "description": "Tool configuration and command registry",
      "properties": {
        "availableConfigs": {
          "type": "array",
          "description": "Tool names array - each becomes available as climpt-{name}. Should contain unique values from commands[].c1",
          "items": {
            "type": "string"
          }
        },
        "commands": {
          "type": "array",
          "description": "Command registry - defines all available C3L commands",
          "items": { "$ref": "registry_command_schema.json" }
        }
      },
      "required": ["availableConfigs", "commands"],
      "additionalProperties": false
    }
  },
  "required": ["version", "description", "tools"],
  "additionalProperties": false
}
```

```json:registry_command_schema.json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Command Schema",
  "description": "Schema for a single command definition",
  "properties": {
    "c1": {
      "type": "string",
      "description": "Domain/category (git, spec, test, code, docs, meta)"
    },
    "c2": {
      "type": "string",
      "description": "Action/directive (create, analyze, execute, etc.)"
    },
    "c3": {
      "type": "string",
      "description": "Target/layer (refinement-issue, quality-metrics, etc.)"
    },
    "title": {
      "type": "string",
      "description": "Command title"
    },
    "description": {
      "type": "string",
      "description": "Command description"
    },
    "usage": {
      "type": "string",
      "description": "Usage instructions and examples"
    },
    "options": {
      "type": "object",
      "description": "Available options for this command",
      "properties": {
        "input": {
          "type": "array",
          "description": "Supported input formats",
          "items": { "type": "string" }
        },
        "adaptation": {
          "type": "array",
          "description": "Processing modes",
          "items": { "type": "string" }
        },
        "input_file": {
          "type": "array",
          "description": "File input support",
          "items": { "type": "boolean" }
        },
        "stdin": {
          "type": "array",
          "description": "Standard input support",
          "items": { "type": "boolean" }
        },
        "destination": {
          "type": "array",
          "description": "Output destination support",
          "items": { "type": "boolean" }
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["c1", "c2", "c3", "description", "usage", "options"],
  "additionalProperties": false
}
```

### è§£æçµæœã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼š

```json:registry_template.json
{
  "version": "{version}",
  "description": "{description}",
  "tools": {
    "availableConfigs": "{tools.availableConfigs}",
    "commands": [
      // Schemaã«åŸºã¥ãã€ã“ã“ã«registry_command_template.jsonã®ç¹°ã‚Šè¿”ã—ãŒå…¥ã‚‹ã€‚
    ]
  }
}
```

```json:registry_command_template.json
{
  "c1": "{c1}",
  "c2": "{c2}",
  "c3": "{c3}",
  "title": "{title}",
  "description": "{description}",
  "usage": "{usage}",
  "options": {
    "input": "{options.input}",
    "adaptation": "{options.adaptation}",
    "input_file": "{options.input_file}",
    "stdin": "{options.stdin}",
    "destination": "{options.destination}"
  }
}
```

## å®Ÿä¾‹2

### ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼è§£æå¯¾è±¡ã®ãƒ•ã‚©ãƒ«ãƒ€ï¼š

`.agent/drafts/articles`

### è§£æçµæœã®ä¿å­˜å…ˆï¼š

`.agent/drafts/books.yml`

### è§£æçµæœã®Schemaï¼š

```
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "books": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "emoji": { "type": "string" },
          "type": { "type": "string" },
          "topics": {
            "type": "array",
            "items": { "type": "string" }
          },
          "published": { "type": "boolean" },
          "published_at": { "type": "string", "format": "date-time" }
        },
        "required": ["title", "type", "published"],
        "additionalProperties": true
      }
    }
  },
  "required": ["books"],
  "additionalProperties": false
}
```

### è§£æçµæœã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼š

```
books:
  - title: "è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«"
    emoji: "ğŸ“š"
    type: "tech"
    topics:
      - "claudecode"
      - "codingagents"
    published: true
    published_at: "2025-08-01 10:00"
  # ...ä»–ã®è¨˜äº‹ã‚‚åŒæ§˜ã«è¿½åŠ 
```
